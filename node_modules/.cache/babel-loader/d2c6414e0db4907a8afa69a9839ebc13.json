{"remainingRequest":"E:\\IDEA\\project\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js!E:\\IDEA\\project\\ant-design-vue-jeecg\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\IDEA\\project\\ant-design-vue-jeecg\\src\\api\\manage.js","dependencies":[{"path":"E:\\IDEA\\project\\ant-design-vue-jeecg\\src\\api\\manage.js","mtime":1715420256047},{"path":"E:\\IDEA\\project\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621061384845},{"path":"E:\\IDEA\\project\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1621061377995},{"path":"E:\\IDEA\\project\\ant-design-vue-jeecg\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1617935819779}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport { axios } from '@/utils/request';\nimport { ACCESS_TOKEN } from '@/store/mutation-types';\nvar api = {\n  user: '/mock/api/user',\n  role: '/mock/api/role',\n  service: '/mock/api/service',\n  permission: '/mock/api/permission',\n  permissionNoPager: '/mock/api/permission/no-pager'\n};\nexport default api; //post\n\nexport function postAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'post',\n    data: parameter\n  });\n} //post method= {post | put}\n\nexport function httpAction(url, parameter, method) {\n  return axios({\n    url: url,\n    method: method,\n    data: parameter\n  });\n} //put\n\nexport function putAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'put',\n    data: parameter\n  });\n} //get\n\nexport function getAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'get',\n    params: parameter\n  });\n} //post\n\nexport function postFormAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'post',\n    params: parameter\n  });\n} //deleteAction\n\nexport function deleteAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'delete',\n    params: parameter\n  });\n}\nexport function getUserList(parameter) {\n  return axios({\n    url: api.user,\n    method: 'get',\n    params: parameter\n  });\n}\nexport function getRoleList(parameter) {\n  return axios({\n    url: api.role,\n    method: 'get',\n    params: parameter\n  });\n}\nexport function getServiceList(parameter) {\n  return axios({\n    url: api.service,\n    method: 'get',\n    params: parameter\n  });\n}\nexport function getPermissions(parameter) {\n  return axios({\n    url: api.permissionNoPager,\n    method: 'get',\n    params: parameter\n  });\n} // id == 0 add     post\n// id != 0 update  put\n\nexport function saveService(parameter) {\n  return axios({\n    url: api.service,\n    method: parameter.id == 0 ? 'post' : 'put',\n    data: parameter\n  });\n}\n/**\r\n * 下载文件 用于excel导出\r\n * @param url\r\n * @param parameter\r\n * @returns {*}\r\n */\n\nexport function downFile(url, parameter) {\n  return axios({\n    url: url,\n    params: parameter,\n    method: 'get',\n    responseType: 'blob'\n  });\n}\n/**\r\n * 下载文件\r\n * @param url 文件路径\r\n * @param fileName 文件名\r\n * @param parameter\r\n * @returns {*}\r\n */\n\nexport function downloadFile(url, fileName, parameter) {\n  return downFile(url, parameter).then(function (data) {\n    if (!data || data.size === 0) {\n      Vue.prototype['$message'].warning('文件下载失败');\n      return;\n    }\n\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n      window.navigator.msSaveBlob(new Blob([data]), fileName);\n    } else {\n      var _url = window.URL.createObjectURL(new Blob([data]));\n\n      var link = document.createElement('a');\n      link.style.display = 'none';\n      link.href = _url;\n      link.setAttribute('download', fileName);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link); //下载完成移除元素\n\n      window.URL.revokeObjectURL(_url); //释放掉blob对象\n    }\n  });\n}\n/**\r\n * 文件上传 用于富文本上传图片\r\n * @param url\r\n * @param parameter\r\n * @returns {*}\r\n */\n\nexport function uploadAction(url, parameter) {\n  return axios({\n    url: url,\n    data: parameter,\n    method: 'post',\n    headers: {\n      'Content-Type': 'multipart/form-data' // 文件上传\n\n    }\n  });\n}\n/**\r\n * 获取文件服务访问路径\r\n * @param avatar\r\n * @param subStr\r\n * @returns {*}\r\n */\n\nexport function getFileAccessHttpUrl(avatar, subStr) {\n  if (!subStr) subStr = 'http';\n\n  try {\n    if (avatar && avatar.startsWith(subStr)) {\n      return avatar;\n    } else {\n      if (window._CONFIG['BASE_FileType'] == 'mongodb') {\n        var token = Vue.ls.get(ACCESS_TOKEN);\n        return window._CONFIG['domianURL'] + \"/system/sysFile/opendownload?id=\".concat(avatar, \"&token=\").concat(token);\n      }\n\n      if (avatar && avatar.length > 0 && avatar.indexOf('[') == -1) {\n        return window._CONFIG['staticDomainURL'] + '/' + avatar;\n      }\n    }\n  } catch (err) {\n    return;\n  }\n}\nexport function requestFaceAddress(url, parameter) {\n  return axios({\n    url: url,\n    method: 'get',\n    params: parameter\n  });\n}\nexport function requestDeleteFace(url, parameter) {\n  return axios({\n    url: url,\n    method: 'delete',\n    params: parameter\n  });\n}",{"version":3,"sources":["E:/IDEA/project/ant-design-vue-jeecg/src/api/manage.js"],"names":["Vue","axios","ACCESS_TOKEN","api","user","role","service","permission","permissionNoPager","postAction","url","parameter","method","data","httpAction","putAction","getAction","params","postFormAction","deleteAction","getUserList","getRoleList","getServiceList","getPermissions","saveService","id","downFile","responseType","downloadFile","fileName","then","size","prototype","warning","window","navigator","msSaveBlob","Blob","URL","createObjectURL","link","document","createElement","style","display","href","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","uploadAction","headers","getFileAccessHttpUrl","avatar","subStr","startsWith","_CONFIG","token","ls","get","length","indexOf","err","requestFaceAddress","requestDeleteFace"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport { axios } from '@/utils/request'\r\nimport { ACCESS_TOKEN } from '@/store/mutation-types'\r\n\r\nconst api = {\r\n  user: '/mock/api/user',\r\n  role: '/mock/api/role',\r\n  service: '/mock/api/service',\r\n  permission: '/mock/api/permission',\r\n  permissionNoPager: '/mock/api/permission/no-pager'\r\n}\r\n\r\nexport default api\r\n\r\n//post\r\nexport function postAction(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    method: 'post',\r\n    data: parameter\r\n  })\r\n}\r\n\r\n//post method= {post | put}\r\nexport function httpAction(url, parameter, method) {\r\n  return axios({\r\n    url: url,\r\n    method: method,\r\n    data: parameter\r\n  })\r\n}\r\n\r\n//put\r\nexport function putAction(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    method: 'put',\r\n    data: parameter\r\n  })\r\n}\r\n\r\n//get\r\nexport function getAction(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\n//post\r\nexport function postFormAction(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    method: 'post',\r\n    params: parameter\r\n  })\r\n}\r\n\r\n//deleteAction\r\nexport function deleteAction(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    method: 'delete',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getUserList(parameter) {\r\n  return axios({\r\n    url: api.user,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getRoleList(parameter) {\r\n  return axios({\r\n    url: api.role,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getServiceList(parameter) {\r\n  return axios({\r\n    url: api.service,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getPermissions(parameter) {\r\n  return axios({\r\n    url: api.permissionNoPager,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\n// id == 0 add     post\r\n// id != 0 update  put\r\nexport function saveService(parameter) {\r\n  return axios({\r\n    url: api.service,\r\n    method: parameter.id == 0 ? 'post' : 'put',\r\n    data: parameter\r\n  })\r\n}\r\n\r\n/**\r\n * 下载文件 用于excel导出\r\n * @param url\r\n * @param parameter\r\n * @returns {*}\r\n */\r\nexport function downFile(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    params: parameter,\r\n    method: 'get',\r\n    responseType: 'blob'\r\n  })\r\n}\r\n\r\n/**\r\n * 下载文件\r\n * @param url 文件路径\r\n * @param fileName 文件名\r\n * @param parameter\r\n * @returns {*}\r\n */\r\nexport function downloadFile(url, fileName, parameter) {\r\n  return downFile(url, parameter).then((data) => {\r\n    if (!data || data.size === 0) {\r\n      Vue.prototype['$message'].warning('文件下载失败')\r\n      return\r\n    }\r\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\r\n      window.navigator.msSaveBlob(new Blob([data]), fileName)\r\n    } else {\r\n      let url = window.URL.createObjectURL(new Blob([data]))\r\n      let link = document.createElement('a')\r\n      link.style.display = 'none'\r\n      link.href = url\r\n      link.setAttribute('download', fileName)\r\n      document.body.appendChild(link)\r\n      link.click()\r\n      document.body.removeChild(link) //下载完成移除元素\r\n      window.URL.revokeObjectURL(url) //释放掉blob对象\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 文件上传 用于富文本上传图片\r\n * @param url\r\n * @param parameter\r\n * @returns {*}\r\n */\r\nexport function uploadAction(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    data: parameter,\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'  // 文件上传\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 获取文件服务访问路径\r\n * @param avatar\r\n * @param subStr\r\n * @returns {*}\r\n */\r\nexport function getFileAccessHttpUrl(avatar, subStr) {\r\n\r\n  if (!subStr) subStr = 'http'\r\n  try {\r\n    if (avatar && avatar.startsWith(subStr)) {\r\n      return avatar\r\n    } else {\r\n      if (window._CONFIG['BASE_FileType'] == 'mongodb') {\r\n        const token = Vue.ls.get(ACCESS_TOKEN)\r\n        return window._CONFIG['domianURL'] + `/system/sysFile/opendownload?id=${avatar}&token=${token}`\r\n      }\r\n      if (avatar && avatar.length > 0 && avatar.indexOf('[') == -1) {\r\n        return window._CONFIG['staticDomainURL'] + '/' + avatar\r\n      }\r\n    }\r\n  } catch (err) {\r\n    return\r\n  }\r\n}\r\n\r\nexport function requestFaceAddress(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function requestDeleteFace(url, parameter) {\r\n  return axios({\r\n    url: url,\r\n    method: 'delete',\r\n    params: parameter\r\n  })\r\n}"]}]}